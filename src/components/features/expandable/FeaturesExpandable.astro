---
import './FeaturesExpandable.css';
---

<section class="features-expandable-section">
  <div class="container">
    <header class="features-expandable-header">
      <span class="section-pill features-header-item">Core Features</span>
      <h2 class="features-expandable-title features-header-item">Powerful Capabilities</h2>
      <p class="features-expandable-description features-header-item">
        Discover the comprehensive set of tools and features designed to enhance your workflow
      </p>
    </header>

    <div class="features-expandable-grid">
      <article class="feature-expandable-card">
        <div class="feature-expandable-content">
          <div class="feature-expandable-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
              <circle cx="8.5" cy="8.5" r="1.5"/>
              <polyline points="21,15 16,10 5,21"/>
            </svg>
          </div>
          <h3 class="feature-expandable-title">Flexible Environments</h3>
          <p class="feature-expandable-description">
            Bring your own image or build one in Python, scale resources as needed, and leverage state-of-the-art infrastructure for high-performance computing.
          </p>
        </div>
        <div class="feature-expandable-arrow">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="18,15 12,9 6,15"/>
          </svg>
        </div>
      </article>

      <article class="feature-expandable-card">
        <div class="feature-expandable-content">
          <div class="feature-expandable-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/>
              <rect x="8" y="2" width="8" height="4" rx="1" ry="1"/>
              <path d="M12 11h4"/>
              <path d="M12 16h4"/>
              <path d="M8 11h.01"/>
              <path d="M8 16h.01"/>
            </svg>
          </div>
          <h3 class="feature-expandable-title">Seamless Integrations</h3>
          <p class="feature-expandable-description">
            Export function logs to monitoring providers and easily mount cloud storage from major providers with simple configuration.
          </p>
        </div>
        <div class="feature-expandable-arrow">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="18,15 12,9 6,15"/>
          </svg>
        </div>
      </article>

      <article class="feature-expandable-card">
        <div class="feature-expandable-content">
          <div class="feature-expandable-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <ellipse cx="12" cy="5" rx="9" ry="3"/>
              <path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/>
              <path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/>
            </svg>
          </div>
          <h3 class="feature-expandable-title">Data Storage</h3>
          <p class="feature-expandable-description">
            Manage data effortlessly with storage solutions including network volumes, key-value stores and queues using familiar syntax.
          </p>
        </div>
        <div class="feature-expandable-arrow">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="18,15 12,9 6,15"/>
          </svg>
        </div>
      </article>

      <article class="feature-expandable-card">
        <div class="feature-expandable-content">
          <div class="feature-expandable-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10"/>
              <polyline points="12,6 12,12 16,14"/>
            </svg>
          </div>
          <h3 class="feature-expandable-title">Job Scheduling</h3>
          <p class="feature-expandable-description">
            Take control of your workloads with powerful scheduling. Set up cron jobs, retries, and timeouts, or use batching to optimize resource usage.
          </p>
        </div>
        <div class="feature-expandable-arrow">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="18,15 12,9 6,15"/>
          </svg>
        </div>
      </article>

      <article class="feature-expandable-card">
        <div class="feature-expandable-content">
          <div class="feature-expandable-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10"/>
              <line x1="2" y1="12" x2="22" y2="12"/>
              <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
            </svg>
          </div>
          <h3 class="feature-expandable-title">Web Endpoints</h3>
          <p class="feature-expandable-description">
            Deploy and manage web services with ease. Create custom domains, set up streaming and websockets, and serve functions as secure HTTPS endpoints.
          </p>
        </div>
        <div class="feature-expandable-arrow">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="18,15 12,9 6,15"/>
          </svg>
        </div>
      </article>

      <article class="feature-expandable-card">
        <div class="feature-expandable-content">
          <div class="feature-expandable-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M8 2v4"/>
              <path d="M16 2v4"/>
              <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
              <path d="M3 10h18"/>
              <path d="M8 14h.01"/>
              <path d="M12 14h.01"/>
              <path d="M16 14h.01"/>
              <path d="M8 18h.01"/>
              <path d="M12 18h.01"/>
              <path d="M16 18h.01"/>
            </svg>
          </div>
          <h3 class="feature-expandable-title">Built-In Debugging</h3>
          <p class="feature-expandable-description">
            Troubleshoot efficiently with built-in debugging tools. Use interactive debugging and set breakpoints to pinpoint issues quickly.
          </p>
        </div>
        <div class="feature-expandable-arrow">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="18,15 12,9 6,15"/>
          </svg>
        </div>
      </article>
    </div>
  </div>
</section>

<script>
  // Staggered animation for header and cards
  document.addEventListener('DOMContentLoaded', function() {
    const headerItems = document.querySelectorAll('.features-header-item');
    const cards = document.querySelectorAll('.feature-expandable-card');
    
    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry, index) => {
        if (entry.isIntersecting) {
          setTimeout(() => {
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
          }, index * 150);
        }
      });
    }, {
      threshold: 0.1,
      rootMargin: '0px 0px -50px 0px'
    });

    // Animate header items first
    headerItems.forEach(item => {
      observer.observe(item);
    });

    // Then animate cards
    cards.forEach(card => {
      observer.observe(card);
    });
  });
</script>
